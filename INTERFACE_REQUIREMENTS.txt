================================================================================
인터페이스 요구사항 명세서
================================================================================
프로젝트명: AMAZING POTATOES - AI 기반 식재료 재고 관리 및 맞춤형 레시피 추천 서비스
작성일: 2025-11-28
버전: 1.0
================================================================================


1. 사용자 인터페이스 요구사항
--------------------------------------------------------------------------------

1.1 운영 환경 및 플랫폼
--------------------------------------------------------------------------------
IR-001  시스템은 웹 브라우저 기반의 운영 환경을 제공해야 한다.
        - 지원 브라우저: Chrome, Firefox, Safari, Edge (최신 버전 기준)

IR-002  시스템은 반응형 웹 디자인(Responsive Web Design)을 지원해야 한다.
        - 데스크톱, 태블릿, 모바일 환경에서 최적화된 화면을 제공

IR-003  프론트엔드는 React 19.1.1 기반의 Single Page Application(SPA)으로 구현되어야 한다.

IR-004  프론트엔드 빌드 도구로 Vite 7.1.7을 사용해야 한다.

IR-005  TypeScript 5.9.3을 사용하여 타입 안정성을 보장해야 한다.


1.2 입력 장치
--------------------------------------------------------------------------------
IR-006  시스템은 사용자 입력을 위해 키보드와 마우스를 지원해야 한다.

IR-007  시스템은 모바일 환경에서 터치 입력을 지원해야 한다.

IR-008  시스템은 파일 업로드를 위해 드래그 앤 드롭(Drag and Drop) 기능을 제공해야 한다.
        - 영수증 이미지 업로드 시 적용


1.3 스타일링 및 디자인
--------------------------------------------------------------------------------
IR-009  시스템 전반에 걸쳐 Tailwind CSS 4.1.16를 사용하여 일관된 디자인을 제공해야 한다.

IR-010  컴포넌트 스타일링을 위해 Styled Components 6.1.19를 추가로 사용할 수 있다.

IR-011  시스템은 Lucide React 0.552.0 아이콘 라이브러리를 사용해야 한다.

IR-012  사용자 인터페이스는 직관적이고 사용하기 쉬운 디자인을 제공해야 한다.
        - 명확한 라벨과 아이콘 사용
        - 일관된 색상 체계 유지


1.4 내비게이션 및 라우팅
--------------------------------------------------------------------------------
IR-013  시스템은 React Router DOM 7.9.5를 사용하여 페이지 라우팅을 제공해야 한다.

IR-014  시스템은 다음 주요 페이지들로 구성되어야 한다:
        - 로그인 페이지 (LoginPage)
        - 대시보드 (Dashboard)
        - 냉장고 관리 (Fridge, FridgeEdit)
        - 레시피 홈 (RecipeHome)
        - 레시피 상세 (RecipeDetail)
        - 레시피 생성 (RecipeCreate)
        - AI 레시피 생성 (AiRecipeCreate)
        - 레시피 커뮤니티 (RecipeCommunity)
        - 영수증 업로드 (UploadReceipt)
        - 마이페이지 (MyPage)

IR-015  인증이 필요한 페이지는 ProtectedRoute를 통해 접근 제어가 되어야 한다.

IR-016  시스템은 전역 네비게이션 바(Navbar)를 제공하여 주요 기능에 빠르게 접근할 수 있어야 한다.


1.5 상태 관리
--------------------------------------------------------------------------------
IR-017  전역 상태 관리를 위해 Zustand 5.0.8을 사용해야 한다.

IR-018  인증 상태는 AuthProvider(React Context)를 통해 전역으로 관리되어야 한다.
        - 로그인 상태(isAuthenticated)
        - 사용자 정보(user: userId, email, name, picture)


1.6 사용자 피드백 및 알림
--------------------------------------------------------------------------------
IR-019  시스템은 사용자 작업에 대한 즉각적인 피드백을 제공해야 한다.
        - 로딩 스피너: 데이터 로딩 중
        - 프로그레스 바: 파일 업로드 진행률 (0-33%, 33-66%, 66-100%)
        - 성공/오류 메시지: 작업 완료 또는 실패 시

IR-020  영수증 업로드 시 3단계 진행률 표시를 제공해야 한다:
        - 0-33%: 파일 업로드
        - 33-66%: OCR 처리
        - 66-100%: 품목 분류

IR-021  에러 발생 시 사용자에게 명확하고 이해하기 쉬운 에러 메시지를 표시해야 한다.


1.7 데이터 표시 및 시각화
--------------------------------------------------------------------------------
IR-022  냉장고 재료는 카테고리별로 그룹화하여 표시해야 한다:
        - 육류, 해산물, 채소, 과일, 유제품, 가공식품, 기타

IR-023  재료의 신선도 상태는 색상으로 구분하여 표시해야 한다:
        - FRESH (신선): 녹색
        - NORMAL (보통): 파란색
        - WARNING (주의): 노란색/주황색
        - EXPIRED (만료): 빨간색

IR-024  레시피 추천 시 매칭률을 시각적으로 표시해야 한다:
        - 퍼센티지 표시 (0-100%)
        - 프로그레스 바 또는 원형 차트

IR-025  레시피 상세 정보는 다음 항목들을 명확하게 표시해야 한다:
        - 레시피 제목
        - 메인 이미지
        - 난이도 (쉬움/보통/어려움)
        - 조리 시간
        - 인원수
        - 재료 목록 (냉장고에 있는 재료 vs 추가 필요 재료 구분)
        - 조리 순서 (단계별)
        - 영양 정보 (칼로리, 단백질, 탄수화물, 지방)

IR-026  대시보드는 다음 정보를 한눈에 볼 수 있도록 구성되어야 한다:
        - 인기 레시피 TOP5
        - 추천 레시피
        - 저장한 레시피
        - 소비기한 임박 재료 (3일 이내)
        - 냉장고 재료 개수


1.8 인증 및 로그인
--------------------------------------------------------------------------------
IR-027  시스템은 Google OAuth 2.0 소셜 로그인을 제공해야 한다.
        - @react-oauth/google 0.12.2 라이브러리 사용

IR-028  로그인 화면은 Google 로그인 버튼을 명확하게 표시해야 한다.

IR-029  인증 성공 시 사용자를 자동으로 대시보드로 리다이렉트해야 한다.

IR-030  로그아웃 기능은 네비게이션 바에 명확하게 표시되어야 한다.


1.9 파일 업로드
--------------------------------------------------------------------------------
IR-031  영수증 이미지 업로드는 다음 방식을 지원해야 한다:
        - 파일 선택 버튼 클릭
        - 드래그 앤 드롭

IR-032  업로드 가능한 파일 형식은 이미지 파일로 제한되어야 한다:
        - JPG, JPEG, PNG, GIF

IR-033  파일 크기는 최대 5MB로 제한되어야 한다.

IR-034  업로드 중 사용자가 진행 상황을 확인할 수 있어야 한다.


1.10 검색 및 필터링
--------------------------------------------------------------------------------
IR-035  레시피 검색 기능은 다음 방식을 지원해야 한다:
        - 재료명 검색
        - 키워드 검색
        - 태그 검색

IR-036  레시피 필터링 기능은 다음 옵션을 제공해야 한다:
        - 카테고리별
        - 난이도별
        - 조리 시간별

IR-037  검색 결과는 페이징 처리되어야 한다:
        - 기본 페이지 크기: 12개
        - 페이지 네비게이션 제공


1.11 사용자 상호작용
--------------------------------------------------------------------------------
IR-038  레시피에 대한 다음 상호작용 기능을 제공해야 한다:
        - 좋아요
        - 저장
        - 별점 등록 (1-5점)
        - 댓글 작성/수정/삭제

IR-039  모든 버튼과 링크는 호버(hover) 시 시각적 피드백을 제공해야 한다.

IR-040  클릭 가능한 요소는 마우스 커서가 포인터로 변경되어야 한다.


1.12 접근성
--------------------------------------------------------------------------------
IR-041  시스템은 키보드 네비게이션을 지원해야 한다.
        - Tab 키로 포커스 이동
        - Enter/Space 키로 버튼 활성화

IR-042  중요한 버튼과 링크는 충분한 크기(최소 44x44px)를 가져야 한다.

IR-043  색상만으로 정보를 전달하지 않고, 텍스트나 아이콘을 함께 사용해야 한다.



2. 외부 시스템 인터페이스 요구사항
--------------------------------------------------------------------------------

2.1 Google OAuth 2.0
--------------------------------------------------------------------------------
IR-044  시스템은 Google OAuth 2.0 인증 서버와 통신해야 한다.
        - Client ID: 47749527109-okb4qnrbp3tm7ov26sl77j64stm8jkue.apps.googleusercontent.com

IR-045  인증 플로우는 다음 단계를 따라야 한다:
        1. 사용자가 "Google 로그인" 버튼 클릭
        2. Google OAuth Popup 열림
        3. 사용자 계정 선택 및 권한 승인
        4. Google이 ID Token 발급
        5. 프론트엔드가 ID Token을 백엔드로 전송 (POST /api/auth/google)
        6. 백엔드가 Google Token Info API로 ID Token 검증
        7. JWT 생성 및 반환

IR-046  Google OAuth 리다이렉트 URI는 프로덕션 환경에 맞게 등록되어야 한다.


2.2 Google Cloud Vision API
--------------------------------------------------------------------------------
IR-047  시스템은 Google Cloud Vision API와 통신하여 영수증 OCR을 수행해야 한다.
        - API 키 경로: src/main/resources/keys/pure-episode-473612-k9-b755b5c694a9.json

IR-048  OCR 요청은 TEXT_DETECTION 기능을 사용해야 한다.

IR-049  OCR 응답 데이터는 다음 정보를 포함해야 한다:
        - 추출된 텍스트
        - 각 단어의 경계 좌표 (x, y)

IR-050  OCR 타임아웃은 최대 15초로 설정되어야 한다.

IR-051  API 할당량을 초과하지 않도록 사용량을 모니터링해야 한다.


2.3 Google Gemini API
--------------------------------------------------------------------------------
IR-052  시스템은 Google Gemini API와 통신하여 AI 레시피를 생성해야 한다.
        - API 키: AIzaSyA1rU7KBElRN8qCfeijBvVDOY2xQFK-gso
        - 모델: gemini-2.0-flash-exp

IR-053  API 요청은 다음 설정을 사용해야 한다:
        - responseMimeType: application/json
        - temperature: 0.7

IR-054  AI 레시피 생성 요청은 다음 정보를 포함해야 한다:
        - 사용할 재료 목록 (이름, 수량, 우선순위, 소비기한)
        - 사용자 선호사항
        - 추가 요구사항

IR-055  API 응답은 구조화된 JSON 형식이어야 하며, 다음 필드를 포함해야 한다:
        - menu_name: 레시피 이름
        - ingredients_used: 사용된 재료 목록
        - additional_ingredients: 추가 필요 재료
        - cooking_steps: 조리 순서 배열
        - estimated_cooking_time: 예상 조리 시간
        - difficulty_level: 난이도
        - servings: 인원수
        - nutritional_info: 영양 정보

IR-056  사용자당 요청 제한을 적용해야 한다:
        - 최소 요청 간격: 5초

IR-057  API 타임아웃은 최대 30초로 설정되어야 한다.


2.4 만개의레시피 웹사이트 (크롤링)
--------------------------------------------------------------------------------
IR-058  시스템은 만개의레시피 웹사이트를 크롤링하여 외부 레시피 데이터를 수집해야 한다.
        - URL: https://www.10000recipe.com

IR-059  크롤링은 Jsoup 1.17.2 라이브러리를 사용해야 한다.

IR-060  크롤링 요청 시 User-Agent를 설정해야 한다:
        - User-Agent: Mozilla/5.0

IR-061  크롤링 타임아웃은 다음과 같이 설정되어야 한다:
        - 검색 페이지: 8초
        - 상세 페이지: 5초

IR-062  크롤링은 이미지 기반 레시피만 수집하고 동영상 레시피는 제외해야 한다.

IR-063  크롤링 결과는 최대 5개 레시피로 제한되어야 한다.

IR-064  robots.txt 규칙을 준수해야 하며, 과도한 요청으로 서버에 부담을 주지 않아야 한다.


2.5 백엔드 REST API
--------------------------------------------------------------------------------
IR-065  프론트엔드는 백엔드 REST API와 JSON 형식으로 데이터를 주고받아야 한다.

IR-066  API 기본 URL은 환경변수로 설정되어야 한다:
        - 개발: http://localhost:8080
        - 프로덕션: 배포 서버 URL

IR-067  모든 인증이 필요한 API 요청은 Authorization 헤더에 JWT를 포함해야 한다:
        - Authorization: Bearer {JWT}

IR-068  API 요청 실패 시 적절한 HTTP 상태 코드를 반환해야 한다:
        - 200: 성공
        - 201: 생성 성공
        - 400: 잘못된 요청
        - 401: 인증 실패 (자동 로그아웃)
        - 403: 권한 없음
        - 404: 리소스 없음
        - 500: 서버 오류

IR-069  페이징 처리가 필요한 API는 다음 쿼리 파라미터를 지원해야 한다:
        - page: 페이지 번호 (0부터 시작)
        - size: 페이지 크기 (기본값: 12)
        - sort: 정렬 기준 (예: createdAt,desc)

IR-070  API 응답 시간은 다음 기준을 만족해야 한다:
        - 단순 조회: 1초 이내
        - 복잡한 추천: 15초 이내
        - AI 레시피 생성: 30초 이내


2.6 MySQL 데이터베이스
--------------------------------------------------------------------------------
IR-071  백엔드는 MySQL 8.0+ 데이터베이스와 JDBC를 통해 통신해야 한다.

IR-072  데이터베이스 연결 정보:
        - 데이터베이스명: amazing_potatoes
        - 문자셋: UTF-8 (utf8mb4)
        - 타임존: Asia/Seoul

IR-073  Spring Data JPA를 사용하여 데이터베이스와 상호작용해야 한다.

IR-074  데이터베이스 스키마는 JPA Entity를 기반으로 자동 생성되어야 한다:
        - spring.jpa.hibernate.ddl-auto=update

IR-075  데이터베이스 쿼리는 PreparedStatement를 사용하여 SQL Injection을 방지해야 한다.


2.7 파일 시스템
--------------------------------------------------------------------------------
IR-076  업로드된 이미지는 백엔드 서버의 지정된 디렉토리에 저장되어야 한다:
        - 경로: src/main/resources/img

IR-077  이미지 파일명은 UUID를 사용하여 중복을 방지해야 한다.

IR-078  이미지는 다음 URL 경로로 제공되어야 한다:
        - URL 접두사: /api/images


2.8 CORS (Cross-Origin Resource Sharing)
--------------------------------------------------------------------------------
IR-079  백엔드는 다음 Origin에서의 요청을 허용해야 한다:
        - 개발: http://localhost:5173, http://localhost:3000, http://localhost:5174
        - 프로덕션: 배포된 프론트엔드 도메인

IR-080  허용되는 HTTP 메서드:
        - GET, POST, PUT, DELETE, OPTIONS

IR-081  허용되는 헤더: 모든 헤더 (*)

IR-082  Credentials 허용: true

IR-083  Preflight 요청 캐시 시간: 3600초 (1시간)



3. 통신 프로토콜 요구사항
--------------------------------------------------------------------------------

3.1 HTTP/HTTPS
--------------------------------------------------------------------------------
IR-084  클라이언트-서버 간 통신은 HTTP/HTTPS 프로토콜을 사용해야 한다.

IR-085  프로덕션 환경에서는 HTTPS를 필수로 사용해야 한다.

IR-086  개발 환경에서는 HTTP를 사용할 수 있다.


3.2 RESTful API
--------------------------------------------------------------------------------
IR-087  API 설계는 RESTful 원칙을 따라야 한다:
        - 리소스 중심 URL 설계
        - HTTP 메서드 적절한 사용 (GET, POST, PUT, DELETE)
        - 상태 코드 적절한 반환

IR-088  API 엔드포인트는 명사형 복수형을 사용해야 한다:
        - 예: /api/recipes, /api/refrigerator/items


3.3 데이터 형식
--------------------------------------------------------------------------------
IR-089  API 요청 및 응답은 JSON 형식을 사용해야 한다.

IR-090  날짜 형식은 ISO 8601 표준을 따라야 한다:
        - 예: 2025-11-28, 2025-11-28T15:30:00

IR-091  숫자 데이터는 적절한 타입을 사용해야 한다:
        - 정수: int, long
        - 소수: float, double, decimal


3.4 파일 업로드
--------------------------------------------------------------------------------
IR-092  파일 업로드는 multipart/form-data 형식을 사용해야 한다.

IR-093  파일 필드명은 'file'로 통일해야 한다.



4. 성능 요구사항
--------------------------------------------------------------------------------

IR-094  페이지 초기 로딩 시간은 3초 이내여야 한다.

IR-095  사용자 인터렉션에 대한 응답은 100ms 이내여야 한다.

IR-096  병렬 처리를 활용하여 레시피 추천 성능을 최적화해야 한다:
        - 로컬 DB 검색: 3초 타임아웃
        - 외부 크롤링: 12초 타임아웃

IR-097  이미지 로딩은 레이지 로딩(Lazy Loading)을 적용해야 한다.



5. 보안 요구사항
--------------------------------------------------------------------------------

IR-098  JWT Secret은 프로덕션 환경에서 안전하게 관리되어야 한다.
        - 환경 변수 사용
        - 소스 코드에 하드코딩 금지

IR-099  API 키 및 인증 정보는 .gitignore에 추가하여 버전 관리에서 제외해야 한다.

IR-100  SQL Injection 방지를 위해 JPA의 Prepared Statement를 사용해야 한다.

IR-101  XSS 방지를 위해 사용자 입력 데이터를 적절히 이스케이프 처리해야 한다.

IR-102  CSRF 방지는 JWT 기반 인증으로 자동 방지된다 (Stateless).

IR-103  파일 업로드 시 다음 보안 검증을 수행해야 한다:
        - 파일 크기 제한: 5MB
        - 파일 확장자 검증 (이미지만 허용)
        - 파일명 UUID 변환 (경로 순회 공격 방지)



================================================================================
문서 종료
================================================================================
